function __processArg(t,e){var i=null;return t&&(i=t[e]||null,delete t[e]),i}function Controller(){function t(){n.__views.settings.removeEventListener("open",t),n.__views.settings.activity?n.__views.settings.activity.onCreateOptionsMenu=function(t){var i={title:"Done",icon:Ti.Android.R.drawable.ic_menu_save,showAsAction:Ti.Android.SHOW_AS_ACTION_IF_ROOM,id:"__alloyId8"};n.__views.__alloyId8=t.menu.add(_.pick(i,Alloy.Android.menuItemCreateArgs)),n.__views.__alloyId8.applyProperties(_.omit(i,Alloy.Android.menuItemCreateArgs)),e?n.__views.__alloyId8.addEventListener("click",e):s["$.__views.__alloyId8!click!clickedDone"]=!0}:(Ti.API.warn("You attempted to attach an Android Menu to a lightweight Window"),Ti.API.warn("or other UI component which does not have an Android activity."),Ti.API.warn("Android Menus can only be opened on TabGroups and heavyweight Windows."))}function e(){i()}function i(){var t=parseFloat(n.tipPctTextField.value);t>0?(Ti.App.Properties.setDouble("tipPct",t/100),Ti.API.log("info","Settings saved"),r()):Ti.UI.createAlertDialog({message:"Enter a tip percentage greater than zero",ok:"Try Again",title:"Invalid Percentage"}).show()}function r(){Ti.App.fireEvent("recalc");var t=n.getView();Alloy.Globals.navgroup?Alloy.Globals.navgroup.closeWindow(t,{animated:!0}):t.close()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="settings",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var n=this,o={},s={};n.__views.settings=Ti.UI.createWindow({backgroundColor:"#fff",navBarHidden:!1,title:"Settings",backButtonTitle:"",id:"settings"}),n.__views.settings&&n.addTopLevelView(n.__views.settings),n.__views.settings.addEventListener("open",t),n.__views.__alloyId11=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#000",text:"Set tip percentage",top:"35",id:"__alloyId11"}),n.__views.settings.add(n.__views.__alloyId11),n.__views.tipPctTextField=Ti.UI.createTextField({color:"#000",id:"tipPctTextField",top:"72",width:"60",height:"35",textAlign:"right",hintText:"Tip %",keyboardType:Ti.UI.KEYBOARD_DECIMAL_PAD,returnKeyType:Ti.UI.RETURNKEY_DONE}),n.__views.settings.add(n.__views.tipPctTextField),n.__views.__alloyId12=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#000",text:"%",top:"72",left:"195",id:"__alloyId12"}),n.__views.settings.add(n.__views.__alloyId12),n.__views.saveButton=Ti.UI.createButton({width:"130",height:Ti.UI.SIZE,borderRadius:15,backgroundColor:"#3883B5",color:"#fff",id:"saveButton",title:"Save Settings",top:"120"}),n.__views.settings.add(n.__views.saveButton),i?n.__views.saveButton.addEventListener("click",i):s["$.__views.saveButton!click!clickedSave"]=!0,o.destroy=function(){},_.extend(n,n.__views);var a=Ti.App.Properties.getDouble("tipPct",.15);n.tipPctTextField.value=(100*a).toFixed(1),s["$.__views.__alloyId8!click!clickedDone"]&&n.__views.__alloyId8.addEventListener("click",e),s["$.__views.saveButton!click!clickedSave"]&&n.__views.saveButton.addEventListener("click",i),_.extend(n,o)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;